<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:th="http://www.w3.org/1999/xhtml" lang="ru">

<head>
    <title>DEVICES</title>
    <div th:replace="fragments/head :: head"></div>
</head>
<body>
<div class="wrapper d-flex justify-content-center" style="align-self: center">
    <header class="modal-header bg-primary container row"
            style=" border-radius: 1rem; text-shadow: 2px 2px 4px black; align-self: center;
               ">

        <div class="col" th:replace="fragments/nav/navdevices :: navdevices"></div>

    </header>

    <main class="main d-flex row" style="align-content: baseline;
        background-image: url('../img/bg/bdfon2.jpg');
        background-repeat: no-repeat; align-self: center;
        max-width: 80rem; border-radius: 1rem">

        <div th:replace="fragments/crud/cruddevices :: cruddevices"></div>

        <div class="table-result-db" style="justify-content: center; max-height: min-content">

            <table class="row" style=" justify-content: center;
                  align-content: center; height: 3rem; table-layout: fixed">

                <tr class="text-light fs-7" style="background-color: #62a0f6">
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 5rem">
                        ID
                    </th>
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 5rem">
                        Тип
                    </th>
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 14rem">
                        Название
                    </th>
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 15rem">
                        Описание
                    </th>
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 10rem">
                        Инв.номер
                    </th>
                    <th class="text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 10rem">
                        С/Н
                    </th>
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 5rem">
                        Износ
                    </th>
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 5rem">
                        Каб.
                    </th>
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 7rem">
                        Выдано
                    </th>
                    <th class=" text-center align-self-center"
                        style="padding-left: 2vh; padding-right: 2vh; border-color: #62a0f6
                        ; width: 7rem">
                        МОЛ
                    </th>
                </tr>
            </table>

            <div class="scroll-tbody">
                <table class="col" style="align-self: center">
                    <div th:each="element : ${devicesList}">
                        <div class="col">
                            <tr style="align-self: center">
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 5rem">
                                    <div>[[${element.id}]]</div>
                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 5rem">
                                    <form action="/filterdevicesbycategory" method="post">
                                        <input type="hidden" name="category" th:value="${element.category}"/>
                                        <button type="submit" class=""
                                                style="background: none;color: darkblue; border: none;
                                                cursor: pointer;text-shadow: none">
                                            [[${element.category}]]
                                        </button>
                                    </form>
                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 16rem">
                                    <div>[[${element.name}]]</div>
                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 25rem">
                                    <div>[[${element.description}]]</div>
                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 10rem">
                                    <div>[[${element.inventory}]]</div>
                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 10rem">
                                    <div>[[${element.serial}]]</div>
                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 7rem">
                                    <form action="/findrepair" method="post">
                                        <input type="hidden" name="id" th:value="${element.repair.id}"/>
                                        <button type="submit" class="text-decoration-none"
                                                style="background: none;color: darkblue; border: none;
                                                cursor: pointer;text-shadow: none">
                                             <span th:if="${element.repair.health == 'green'}">
                                            <div class="green">[[${element.repair}]]</div>
                                        </span>
                                            <span th:if="${element.repair.health == 'yellow'}">
                                             <div class="yellow">[[${element.repair}]]</div>
                                        </span>
                                            <span th:if="${element.repair.health == 'red'}">
                                             <div class="red">[[${element.repair}]]</div>
                                        </span>
                                        </button>
                                    </form>
                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 5rem">
                                    <form action="/findroomyid" method="post">
                                        <input type="hidden" name="id" th:value="${element.room.id}"/>
                                        <button type="submit" class=""
                                                style="background: none;color: darkblue; border: none;
                                                cursor: pointer;text-shadow: none">
                                            [[${element.room}]]
                                        </button>
                                    </form>
                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 7rem">
                                    <form action="/findbyfio" method="post">
                                        <input type="hidden" name="fio" th:value="${element.employee.id}"/>
                                        <button type="submit" class="text-decoration-none"
                                                style="background: none;color: darkblue; border: none;
                                                cursor: pointer;text-shadow: none">
                                            [[${element.employee}]]
                                        </button>
                                    </form>

                                </td>
                                <td class="p-2 m-2 text-center border border-1 border-dark"
                                    style="width: 7rem">
                                    <form action="/finditstaffbyid" method="post">
                                        <input type="hidden" name="id" th:value="${element.itstaff.id}"/>
                                        <button type="submit" class="text-decoration-none"
                                                style="background: none;color: darkblue; border: none;
                                                cursor: pointer;text-shadow: none">
                                            [[${element.itstaff}]]
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        </div>
                    </div>
                    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>

                </table>
            </div>
        </div>

    </main>
    <footer>
        <div th:replace="fragments/footermain :: footermain"></div>
    </footer>
</div>
</body>
</html>